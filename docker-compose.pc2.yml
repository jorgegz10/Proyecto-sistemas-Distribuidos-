# docker-compose.pc2.yml
# PC2 - ACTORES DE PRÉSTAMO Y DEVOLUCIÓN (Virtual 1)
# 
# ANTES DE EJECUTAR:
# 1. Reemplaza <IP_PC1> con la IP real del PC1 (Local)
# 2. Ejemplo: Si PC1 tiene IP 192.168.1.100, reemplaza todas las <IP_PC1> por 192.168.1.100
#
# Este PC ejecuta:
# - Actor Préstamo
# - Actor Devolución

services:
  # Actor de Préstamo
  actor_prestamo:
    build:
      context: .
      dockerfile: ./actor_prestamo/Dockerfile
    container_name: actor_prestamo_pc2
    environment:
      - GESTOR_ALMACENAMIENTO=<IP_PC1>:5570
    extra_hosts:
      - "gestor_carga:<IP_PC1>"
      - "gestor_almacenamiento:<IP_PC1>"
    networks:
      - backend
    restart: unless-stopped

  # Actor de Devolución
  actor_devolucion:
    build:
      context: .
      dockerfile: ./actor_devolucion/Dockerfile
    container_name: actor_devolucion_pc2
    environment:
      - GESTOR_CARGA_PUB_ADDR=tcp://<IP_PC1>:5556
      - GESTOR_ALMACENAMIENTO=tcp://<IP_PC1>:5570
    extra_hosts:
      - "gestor_carga:<IP_PC1>"
      - "gestor_almacenamiento:<IP_PC1>"
    networks:
      - backend
    restart: unless-stopped

networks:
  backend:
    driver: bridge
